<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="full-screen-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/icon-small.png" type="image/png" sizes="192x192">
    <title>Quoridor Game</title>
</head>
<body>
    <div class="menu-container">
        <h1 class="game-title">Quoridor</h1>
        <div class="button-container">
            <button class="play-button">Play</button>
            <button class="instruction-button">Instruction</button>
        </div>
    </div>
    <div class="play-overlay" id="play-overlay">
        <button class="close-button">Close</button>
        <div class="play-text">
            <h2>Pick a gamemode</h2>
            <p class="desc">Choose your play mode:</p>
            <div class="play-options">
                <button id="local-play">Local Play</button>
                <button id="online-play">Online Play</button>
                <div class="online-branch">
                    <button id="create-room">Create Room</button>
                    <button id="join-room">Join Room</button>
                </div>
            </div>
        </div>
    </div>
    <div class="instruction-overlay" id="instruction-overlay">
        <button class="close-button">Close</button>
        <div class="instruction-text">
            <h2>Quoridor: All you need to know</h2>
            <p class = "desc">The object of the game is to advance your pawn to the opposite edge of the board. 
                On your turn, you may either move your pawn or place a wall. 
                You may hinder your opponent with wall placement, but not completely block him off. 
                Meanwhile, he is trying to do the same to you. The first pawn to reach the opposite side wins.</p>
            <p class = "desc">To move the pawn, simply click on the cell you want to move to that is highlighted.
                To place a wall, click on the gap between the cells that you want to place it.
            </p>
            <p class="desc">More about Quoridor Game Rules can be found here: 
                <a href="https://www.ultraboardgames.com/quoridor/game-rules.php" target="_blank">Quoridor Game Rules</a>
            </p>
        </div>
        <div class="demo">
            <img src="assets/demo-image-1.png" alt="Demo Image 1">
            <figure>
                <video src="assets/demo-vid.webm" controls title="Wall Placement"></video>
                <figcaption>Wall Placing Demonstration</figcaption>
            </figure>
        </div>
    </div>
    
    <div class="create-room-overlay" id="create-room-overlay">
        <h2>Game Code</h2>
        <p>Your game code is:</p>
        <div class="game-code">
            <span id="game-code-text"></span>
            <button id="copy-code-button">Copy Code</button>
        </div>
        <p>Please give this to the person you are playing with. The game will start automatically once your opponent joins.</p>
        <p>Do not leave or refresh this page. The code will expire if you do so.</p>
        <button class="close-button" id="close-room">Close</button>
    </div>

    <div class="join-room-overlay" id="join-room-overlay">
        <h2>Game Code</h2>
        <p>Please enter your game code</p>
        <div class="game-code">
            <input id="join-room-code" type="text" placeholder="xxxxx" maxlength="5" inputmode="verbatim">
            <button id="join-room-button">Join</button>
        </div>
        <p>Don't know what this is? Ask the person hosting the game. They'll have it.</p>
        <button class="close-button">Close</button>
    </div>
    <script type="module" src="js/menu.js"></script>
    <!-- Add this script tag to include the Socket.io client -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</body>
</html>